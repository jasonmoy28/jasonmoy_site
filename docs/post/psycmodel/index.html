<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Jason Moy ">
<meta name="description" content="At its core, this package allows people to analyze their data with one simple function call. For example, when you are running a linear regression, you need to fit the model, check the goodness of fit (e.g., R2), check the model assumption, and plot the interaction (if the interaction is included). Without this package, you need several packages to do the above steps. Additionally, if you are an R beginner, you probably don’t know where to find all these R packages." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://jasonmoy.us/post/psycmodel/" />


    <title>
        
            An introduction to psycModel :: Jason Moy 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://jasonmoy.us/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css">



    <link rel="apple-touch-icon" sizes="180x180" href="https://jasonmoy.us/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://jasonmoy.us/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://jasonmoy.us/favicon-16x16.png">
    <link rel="manifest" href="https://jasonmoy.us/site.webmanifest">
    <link rel="mask-icon" href="https://jasonmoy.us/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="https://jasonmoy.us/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="An introduction to psycModel">
<meta itemprop="description" content="At its core, this package allows people to analyze their data with one simple function call. For example, when you are running a linear regression, you need to fit the model, check the goodness of fit (e.g., R2), check the model assumption, and plot the interaction (if the interaction is included). Without this package, you need several packages to do the above steps. Additionally, if you are an R beginner, you probably don’t know where to find all these R packages."><meta itemprop="datePublished" content="2022-04-17T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-04-17T00:00:00+00:00" />
<meta itemprop="wordCount" content="692"><meta itemprop="image" content="https://jasonmoy.us"/>
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://jasonmoy.us"/>

<meta name="twitter:title" content="An introduction to psycModel"/>
<meta name="twitter:description" content="At its core, this package allows people to analyze their data with one simple function call. For example, when you are running a linear regression, you need to fit the model, check the goodness of fit (e.g., R2), check the model assumption, and plot the interaction (if the interaction is included). Without this package, you need several packages to do the above steps. Additionally, if you are an R beginner, you probably don’t know where to find all these R packages."/>




    <meta property="og:title" content="An introduction to psycModel" />
<meta property="og:description" content="At its core, this package allows people to analyze their data with one simple function call. For example, when you are running a linear regression, you need to fit the model, check the goodness of fit (e.g., R2), check the model assumption, and plot the interaction (if the interaction is included). Without this package, you need several packages to do the above steps. Additionally, if you are an R beginner, you probably don’t know where to find all these R packages." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jasonmoy.us/post/psycmodel/" /><meta property="og:image" content="https://jasonmoy.us"/><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-04-17T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-04-17T00:00:00+00:00" />





    <meta property="article:section" content="tutorial" />



    <meta property="article:published_time" content="2022-04-17 00:00:00 &#43;0000 UTC" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://jasonmoy.us/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark"> </span>
            <span class="logo__text"> Jason Moy</span>
            <span class="logo__cursor" style=
                  "visibility:hidden;
                   background-color:#683eba;
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://jasonmoy.us/about/">About</a></li><li><a href="https://jasonmoy.us/cv/">CV</a></li><li><a href="https://jasonmoy.us/post/">Posts</a></li><li><a href="https://jasonmoy.us/contact/">Contact</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://jasonmoy.us/post/psycmodel/">An introduction to psycModel</a></h2>

            
            
            

            <div class="post-content">
                <p>At its core, this package allows people to analyze their data with one simple function call. For example, when you are running a linear regression, you need to fit the model, check the goodness of fit (e.g., R2), check the model assumption, and plot the interaction (if the interaction is included). Without this package, you need several packages to do the above steps. Additionally, if you are an R beginner, you probably don’t know where to find all these R packages. This package has done all that work for you, so you can just do everything with one simple function call.</p>
<p>Another good example is CFA. The most common (and probably the only) option to fit a CFA in R is using lavaan. Lavaan has its own unique set of syntax. It is very versatile and powerful, but you do need to spend some time learning it. It may not worth the time for people who just want to run a quick and simple CFA model. In my package, it’s very intuitive with <code>cfa_summary(data, x1:x3)</code>, and you get the model summary, the fit measures, and a nice-looking path diagram. The same logic also applies to HLM since lme4 / nlme also has its own set of syntax that you need to learn.</p>
<p>Moreover, I also made fitting the model even simpler by using the dplyr::select syntax. In short, traditionally, if you want to fit a linear regression model, the syntax looks like this <code>lm(y ~ x1 + x2 + x3 + x4 + ... + xn, data)</code>. Now, the syntax is much shorter and more intuitive: <code>lm_model(y, x1:xn, data)</code>. You can even replace <code>x1:xn</code> with <code>everything()</code>.</p>
<h2 id="regression-models">Regression Models</h2>
<h3 id="integrated-summary-for-linear-regression">Integrated Summary for Linear Regression</h3>
<p>integrated_model_summary is the integrated function for linear regression and generalized linear regression. It will first fit the model using lm_model or glm_model, then it will pass the fitted model object to model_summary which produces model estimates and assumption checks. If interaction terms are included, they will be passed to the relevant interaction_plot function for plotting (the package currently does not support generalized linear regression interaction plotting).</p>
<p>Additionally, you can request assumption_plot and simple_slope (default is FALSE). By requesting assumption_plot, it produces a panel of graphs that allow you to visually inspect the model assumption (in addition to testing it statistically). simple_slope is another powerful way to probe further into the interaction. It shows you the slope estimate at the mean and +1/-1 SD of the mean of the moderator. For example, you hypothesized that social-economic status (SES) moderates the effect of teacher experience on education quality. Then, simple_slope shows you the slope estimate of teacher experience on education quality at +1/-1 SD and the mean level of SES. Additionally, it produces a Johnson-Newman plot that shows you at what level of the moderator that the slope_estimate is predicted to be insignificant.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">integrated_model_summary</span>(
</span></span><span style="display:flex;"><span>   data <span style="color:#f92672">=</span> iris,
</span></span><span style="display:flex;"><span>   response_variable <span style="color:#f92672">=</span> Sepal.Length,
</span></span><span style="display:flex;"><span>   predictor_variable <span style="color:#f92672">=</span> tidyselect<span style="color:#f92672">::</span><span style="color:#a6e22e">everything</span>(),
</span></span><span style="display:flex;"><span>   two_way_interaction_factor <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(Sepal.Width, Petal.Width),
</span></span><span style="display:flex;"><span>   model_summary <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,
</span></span><span style="display:flex;"><span>   interaction_plot <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,
</span></span><span style="display:flex;"><span>   assumption_plot <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,
</span></span><span style="display:flex;"><span>   simple_slope <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,
</span></span><span style="display:flex;"><span>   plot_color <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>
</span></span><span style="display:flex;"><span> )
</span></span></code></pre></div><p>The output will be</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>Model Summary
</span></span><span style="display:flex;"><span>Model Type <span style="color:#f92672">=</span> Linear regression
</span></span><span style="display:flex;"><span>Outcome <span style="color:#f92672">=</span> Sepal.Length
</span></span><span style="display:flex;"><span>Predictors <span style="color:#f92672">=</span> Sepal.Width, Petal.Length, Petal.Width, Species
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Model Estimates
</span></span><span style="display:flex;"><span>───────────────────────────────────────────────────────────────────────────────────────
</span></span><span style="display:flex;"><span>                Parameter  Coefficient       t   df     SE          p            <span style="color:#ae81ff">95</span>% CI
</span></span><span style="display:flex;"><span>───────────────────────────────────────────────────────────────────────────────────────
</span></span><span style="display:flex;"><span>              (Intercept)        <span style="color:#ae81ff">1.609</span>   <span style="color:#ae81ff">3.858</span>  <span style="color:#ae81ff">144</span>  <span style="color:#ae81ff">0.417</span>  <span style="color:#ae81ff">0.000</span> <span style="color:#f92672">***</span>  [ <span style="color:#ae81ff">0.785</span>,  <span style="color:#ae81ff">2.433</span>]
</span></span><span style="display:flex;"><span>              Sepal.Width        <span style="color:#ae81ff">0.772</span>   <span style="color:#ae81ff">6.475</span>  <span style="color:#ae81ff">144</span>  <span style="color:#ae81ff">0.119</span>  <span style="color:#ae81ff">0.000</span> <span style="color:#f92672">***</span>  [ <span style="color:#ae81ff">0.536</span>,  <span style="color:#ae81ff">1.007</span>]
</span></span><span style="display:flex;"><span>             Petal.Length        <span style="color:#ae81ff">0.749</span>  <span style="color:#ae81ff">12.754</span>  <span style="color:#ae81ff">144</span>  <span style="color:#ae81ff">0.059</span>  <span style="color:#ae81ff">0.000</span> <span style="color:#f92672">***</span>  [ <span style="color:#ae81ff">0.633</span>,  <span style="color:#ae81ff">0.865</span>]
</span></span><span style="display:flex;"><span>              Petal.Width        <span style="color:#ae81ff">0.112</span>   <span style="color:#ae81ff">0.297</span>  <span style="color:#ae81ff">144</span>  <span style="color:#ae81ff">0.378</span>  <span style="color:#ae81ff">0.767</span>      [<span style="color:#ae81ff">-0.635</span>,  <span style="color:#ae81ff">0.860</span>]
</span></span><span style="display:flex;"><span>                  Species       <span style="color:#ae81ff">-0.264</span>  <span style="color:#ae81ff">-2.222</span>  <span style="color:#ae81ff">144</span>  <span style="color:#ae81ff">0.119</span>  <span style="color:#ae81ff">0.028</span> <span style="color:#f92672">*</span>    [<span style="color:#ae81ff">-0.499</span>, <span style="color:#ae81ff">-0.029</span>]
</span></span><span style="display:flex;"><span>  Sepal.Width<span style="color:#f92672">:</span>Petal.Width       <span style="color:#ae81ff">-0.154</span>  <span style="color:#ae81ff">-1.485</span>  <span style="color:#ae81ff">144</span>  <span style="color:#ae81ff">0.103</span>  <span style="color:#ae81ff">0.140</span>      [<span style="color:#ae81ff">-0.358</span>,  <span style="color:#ae81ff">0.051</span>]
</span></span><span style="display:flex;"><span>───────────────────────────────────────────────────────────────────────────────────────
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Goodness of Fit
</span></span><span style="display:flex;"><span>───────────────────────────────────────────────────
</span></span><span style="display:flex;"><span>     AIC      BIC     R²  R²_adjusted   RMSE      σ
</span></span><span style="display:flex;"><span>───────────────────────────────────────────────────
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">82.514</span>  <span style="color:#ae81ff">103.588</span>  <span style="color:#ae81ff">0.864</span>        <span style="color:#ae81ff">0.860</span>  <span style="color:#ae81ff">0.304</span>  <span style="color:#ae81ff">0.310</span>
</span></span><span style="display:flex;"><span>───────────────────────────────────────────────────
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Model Assumption Check
</span></span><span style="display:flex;"><span>OK<span style="color:#f92672">:</span> Residuals appear to be independent and not <span style="color:#a6e22e">autocorrelated </span>(p <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.980</span>).
</span></span><span style="display:flex;"><span>OK<span style="color:#f92672">:</span> residuals appear as normally <span style="color:#a6e22e">distributed </span>(p <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.892</span>).
</span></span><span style="display:flex;"><span>Unable to check autocorrelation. Try changing na.action to na.omit.
</span></span><span style="display:flex;"><span>Warning<span style="color:#f92672">:</span> <span style="color:#a6e22e">Heteroscedasticity </span>(non<span style="color:#f92672">-</span>constant error variance) <span style="color:#a6e22e">detected </span>(p <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.047</span>).
</span></span><span style="display:flex;"><span>Warning<span style="color:#f92672">:</span> Severe multicolinearity <span style="color:#a6e22e">detected </span>(VIF <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">10</span>). Please inspect the following table to identify high correlation factors.
</span></span><span style="display:flex;"><span>Multicollinearity Table
</span></span><span style="display:flex;"><span>─────────────────────────────────────────────
</span></span><span style="display:flex;"><span>                     Term      VIF  SE_factor
</span></span><span style="display:flex;"><span>─────────────────────────────────────────────
</span></span><span style="display:flex;"><span>              Sepal.Width    <span style="color:#ae81ff">4.174</span>      <span style="color:#ae81ff">2.043</span>
</span></span><span style="display:flex;"><span>             Petal.Length   <span style="color:#ae81ff">16.625</span>      <span style="color:#ae81ff">4.077</span>
</span></span><span style="display:flex;"><span>              Petal.Width  <span style="color:#ae81ff">128.506</span>     <span style="color:#ae81ff">11.336</span>
</span></span><span style="display:flex;"><span>                  Species   <span style="color:#ae81ff">14.673</span>      <span style="color:#ae81ff">3.831</span>
</span></span><span style="display:flex;"><span>  Sepal.Width<span style="color:#f92672">:</span>Petal.Width   <span style="color:#ae81ff">90.119</span>      <span style="color:#ae81ff">9.493</span>
</span></span><span style="display:flex;"><span>─────────────────────────────────────────────
</span></span></code></pre></div>
            </div>
        </article>

        <hr />

        <div class="post-info">
            
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://jasonmoy.us/categories/tutorial/">tutorial</a></span>
        
    </p>

  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2023</span>
            <span><a href="https://jasonmoy.us">Jason Moy</a></span>
            <span>Powered by <a href = "https://gohugo.io/" rel = "noopener"> Hugo</a></span>
            
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://jasonmoy.us/bundle.min.a2c5b062c87998f04d1b5dfb6a89a1b2d79786c21d0cb63a05e8a2082984b64b77d80955e3b97eab17273775162ba372511b711fea2f7608f216e68a67bb22d6.js" integrity="sha512-osWwYsh5mPBNG137aomhsteXhsIdDLY6BeiiCCmEtkt32AlV47l&#43;qxcnN3UWK6NyURtxH&#43;ovdgjyFuaKZ7si1g=="></script>



    </body>
</html>
